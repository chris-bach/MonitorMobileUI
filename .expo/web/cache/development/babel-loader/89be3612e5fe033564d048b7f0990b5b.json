{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\ReactNative\\\\MonitorMobileUI\\\\screens\\\\Chat.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { Input, Block, Text, theme } from \"galio-framework\";\nimport { Icon } from \"../components\";\nimport Images from \"../constants/Images\";\nimport argonTheme from \"../constants/Theme\";\nvar messages = [{\n  id: 1,\n  avatar: Images.ProfileChat,\n  message: \"Hey there! How are you today? Can we me et and talk? Thanks!\",\n  time: \"10:31 PM\"\n}, {\n  id: 2,\n  message: \"Sure, just let me finish something and I\\u2019ll call you.\",\n  time: \"10:34 PM\"\n}, {\n  id: 3,\n  avatar: Images.ProfileChat,\n  message: \"OK. Cool! See you!\",\n  time: \"10:35 PM\"\n}, {\n  id: 4,\n  message: \"Bye bye\",\n  time: \"10:36 PM\"\n}];\n\nvar Chat = function (_React$Component) {\n  _inherits(Chat, _React$Component);\n\n  var _super = _createSuper(Chat);\n\n  function Chat() {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      messages: messages,\n      height: 0\n    };\n    _this.messagesScroll = React.createRef();\n\n    _this.itemLayout = function (data, index) {\n      return {\n        length: _this.state.messages.length - 1,\n        offset: 32 * index,\n        index: index\n      };\n    };\n\n    _this.handleScroll = function () {\n      setTimeout(function () {\n        _this.messagesScroll.current.scrollToOffset({\n          offset: _this.state.height\n        });\n      }, 1);\n    };\n\n    _this.onContentSizeChange = function (width, height) {\n      _this.setState({\n        height: height\n      });\n    };\n\n    _this.renderMessage = function (msg) {\n      if (msg.avatar) {\n        return React.createElement(Block, {\n          key: msg.id,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 9\n          }\n        }, React.createElement(Block, {\n          row: true,\n          space: null,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }\n        }, React.createElement(Image, {\n          source: {\n            uri: msg.avatar\n          },\n          style: [styles.avatar, styles.shadow],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }\n        }), React.createElement(Block, {\n          style: styles.messageCardWrapper,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }\n        }, React.createElement(Block, {\n          style: [styles.messageCard, styles.shadow],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontFamily: 'open-sans-regular'\n          },\n          color: argonTheme.COLORS.TEXT,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }\n        }, msg.message)), React.createElement(Block, {\n          right: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: styles.time,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }, msg.time)))));\n      }\n\n      return React.createElement(Block, {\n        key: msg.id,\n        right: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        row: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, React.createElement(Block, {\n        style: styles.messageCardWrapper,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, React.createElement(Block, {\n        style: [styles.messageCardPersonal, styles.shadow],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontFamily: 'open-sans-regular'\n        },\n        color: argonTheme.COLORS.WHITE,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, msg.message)), React.createElement(Block, {\n        right: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: [styles.time, {\n          marginRight: 8\n        }],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, msg.time))), React.createElement(Image, {\n        source: Images.ProfilePicture,\n        style: [styles.avatar, styles.shadow],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }\n      })));\n    };\n\n    _this.renderMessages = function () {\n      var insetBottom = _this.state.messages.length * (theme.SIZES.BASE * 6.5) + 64;\n      return React.createElement(FlatList, {\n        ref: _this.messagesScroll,\n        data: _this.state.messages,\n        keyExtractor: function keyExtractor(item) {\n          return \"\" + item.id;\n        },\n        showsVerticalScrollIndicator: false,\n        getItemLayout: _this.itemLayout,\n        contentContainerStyle: [styles.messagesWrapper],\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _this.renderMessage(item);\n        },\n        onContentSizeChange: _this.onContentSizeChange,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.handleMessageChange = function (type, text) {\n      _this.setState({\n        message: text\n      });\n    };\n\n    _this.handleMessage = function () {\n      var _this$state = _this.state,\n          messages = _this$state.messages,\n          message = _this$state.message;\n      var date = new Date();\n      messages.push({\n        id: messages.length + 1,\n        message: message,\n        time: date.toLocaleString(\"en-US\", {\n          hour: \"2-digit\",\n          minute: \"numeric\"\n        })\n      });\n\n      _this.setState({\n        messages: messages,\n        message: \"\"\n      });\n\n      _this.handleScroll();\n    };\n\n    _this.messageForm = function () {\n      var navigation = _this.props.navigation;\n      return React.createElement(View, {\n        style: styles.messageFormContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }\n      }, React.createElement(Input, {\n        borderless: true,\n        color: \"#9fa5aa\",\n        multiline: true,\n        blurOnSubmit: true,\n        style: styles.input,\n        placeholder: \"Message\",\n        autoCapitalize: \"none\",\n        returnKeyType: \"send\",\n        textContentType: \"none\",\n        placeholderTextColor: \"#9fa5aa\",\n        defaultValue: _this.state.message,\n        onSubmitEditing: _this.handleMessage,\n        onChangeText: function onChangeText(text) {\n          return _this.handleMessageChange(\"message\", text);\n        },\n        iconContent: React.createElement(Icon, {\n          size: 14,\n          name: \"camera\",\n          family: \"font-awesome\",\n          color: argonTheme.COLORS.ICON,\n          style: {\n            marginRight: 12,\n            marginTop: 5\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }\n        }),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }\n      })));\n    };\n\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Block, {\n        flex: true,\n        space: \"between\",\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 7\n        }\n      }, React.createElement(KeyboardAvoidingView, {\n        enabled: true,\n        behavior: \"padding\",\n        style: {\n          flex: 1\n        },\n        keyboardVerticalOffset: theme.SIZES.BASE * 3.2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 9\n        }\n      }, this.renderMessages(), this.messageForm()));\n    }\n  }]);\n\n  return Chat;\n}(React.Component);\n\nexport { Chat as default };\nvar styles = StyleSheet.create({\n  container: {},\n  messageFormContainer: {\n    height: 96,\n    paddingHorizontal: 16,\n    paddingTop: 16,\n    paddingBottom: 32\n  },\n  input: {\n    height: theme.SIZES.BASE * 3,\n    backgroundColor: theme.COLORS.WHITE,\n    shadowColor: theme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 0.7\n    },\n    shadowRadius: 3,\n    shadowOpacity: 0.07,\n    elevation: 2\n  },\n  iconButton: {\n    width: 40,\n    height: 40,\n    backgroundColor: \"transparent\"\n  },\n  messagesWrapper: {\n    flexGrow: 1,\n    top: 0,\n    paddingLeft: 8,\n    paddingRight: 8,\n    paddingVertical: 16,\n    paddingBottom: 56\n  },\n  messageCardWrapper: {\n    maxWidth: \"85%\",\n    marginLeft: 8,\n    marginBottom: 32\n  },\n  messageCard: {\n    paddingHorizontal: 8,\n    paddingVertical: 16,\n    borderRadius: 6,\n    backgroundColor: theme.COLORS.WHITE\n  },\n  messageCardPersonal: {\n    paddingHorizontal: 8,\n    paddingVertical: 16,\n    borderRadius: 6,\n    marginRight: 8,\n    backgroundColor: argonTheme.COLORS.PRIMARY\n  },\n  shadow: {\n    shadowColor: \"rgba(0, 0, 0, 0.1)\",\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowRadius: 3,\n    shadowOpacity: 1\n  },\n  time: {\n    fontFamily: 'open-sans-regular',\n    fontSize: 11,\n    opacity: 0.5,\n    marginTop: 8\n  },\n  avatar: {\n    height: 40,\n    width: 40,\n    borderRadius: 20,\n    marginBottom: theme.SIZES.BASE\n  }\n});","map":{"version":3,"sources":["C:/ReactNative/MonitorMobileUI/screens/Chat.js"],"names":["React","Input","Block","Text","theme","Icon","Images","argonTheme","messages","id","avatar","ProfileChat","message","time","Chat","state","height","messagesScroll","createRef","itemLayout","data","index","length","offset","handleScroll","setTimeout","current","scrollToOffset","onContentSizeChange","width","setState","renderMessage","msg","uri","styles","shadow","messageCardWrapper","messageCard","fontFamily","COLORS","TEXT","messageCardPersonal","WHITE","marginRight","ProfilePicture","renderMessages","insetBottom","SIZES","BASE","item","messagesWrapper","handleMessageChange","type","text","handleMessage","date","Date","push","toLocaleString","hour","minute","messageForm","navigation","props","messageFormContainer","input","ICON","marginTop","container","flex","Component","StyleSheet","create","paddingHorizontal","paddingTop","paddingBottom","backgroundColor","shadowColor","BLACK","shadowOffset","shadowRadius","shadowOpacity","elevation","iconButton","flexGrow","top","paddingLeft","paddingRight","paddingVertical","maxWidth","marginLeft","marginBottom","borderRadius","PRIMARY","fontSize","opacity"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  View,\r\n  Image,\r\n  StyleSheet,\r\n  FlatList,\r\n  KeyboardAvoidingView\r\n} from \"react-native\";\r\n\r\nimport { Input, Block, Text, theme } from \"galio-framework\";\r\nimport { Icon } from \"../components\";\r\n\r\nimport Images from \"../constants/Images\";\r\nimport argonTheme from \"../constants/Theme\";\r\n\r\nconst messages = [\r\n  {\r\n    id: 1,\r\n    avatar: Images.ProfileChat,\r\n    message: `Hey there! How are you today? Can we me et and talk? Thanks!`,\r\n    time: `10:31 PM`\r\n  },\r\n  {\r\n    id: 2,\r\n    message: `Sure, just let me finish something and Iâ€™ll call you.`,\r\n    time: `10:34 PM`\r\n  },\r\n  {\r\n    id: 3,\r\n    avatar: Images.ProfileChat,\r\n    message: `OK. Cool! See you!`,\r\n    time: `10:35 PM`\r\n  },\r\n  {\r\n    id: 4,\r\n    message: `Bye bye`,\r\n    time: `10:36 PM`\r\n  }\r\n];\r\n\r\nexport default class Chat extends React.Component {\r\n  state = {\r\n    messages: messages,\r\n    height: 0\r\n  };\r\n\r\n  messagesScroll = React.createRef();\r\n\r\n  itemLayout = (data, index) => ({\r\n    length: this.state.messages.length - 1,\r\n    offset: 32 * index,\r\n    index\r\n  });\r\n\r\n  handleScroll = () => {\r\n    // const totalIndex = this.state.messages.length - 1;\r\n    // const insetBottom = this.state.messages.length * (theme.SIZES.BASE * 6.5) + 64; // total messages x message height\r\n    setTimeout(() => {\r\n      this.messagesScroll.current.scrollToOffset({ offset: this.state.height });\r\n    }, 1);\r\n  };\r\n\r\n  onContentSizeChange = (width, height) => {\r\n    this.setState({\r\n      height\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    // this.handleScroll();\r\n  }\r\n\r\n  renderMessage = msg => {\r\n    if (msg.avatar) {\r\n      return (\r\n        <Block key={msg.id}>\r\n          <Block row space={null}>\r\n            <Image\r\n              source={{ uri: msg.avatar }}\r\n              style={[styles.avatar, styles.shadow]}\r\n            />\r\n            <Block style={styles.messageCardWrapper}>\r\n              <Block style={[styles.messageCard, styles.shadow]}>\r\n                <Text style={{ fontFamily: 'open-sans-regular' }} color={argonTheme.COLORS.TEXT}>{msg.message}</Text>\r\n              </Block>\r\n              <Block right>\r\n                <Text style={styles.time}>{msg.time}</Text>\r\n              </Block>\r\n            </Block>\r\n          </Block>\r\n        </Block>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Block key={msg.id} right>\r\n        <Block row>\r\n          <Block style={styles.messageCardWrapper}>\r\n            <Block style={[styles.messageCardPersonal, styles.shadow]}>\r\n              <Text style={{ fontFamily: 'open-sans-regular' }} color={argonTheme.COLORS.WHITE}>{msg.message}</Text>\r\n            </Block>\r\n            <Block right>\r\n              <Text style={[styles.time, { marginRight: 8 }]}>{msg.time}</Text>\r\n            </Block>\r\n          </Block>\r\n          <Image\r\n            source={Images.ProfilePicture }\r\n            style={[styles.avatar, styles.shadow]}\r\n          />\r\n        </Block>\r\n      </Block>\r\n    );\r\n  };\r\n\r\n  renderMessages = () => {\r\n    const insetBottom =\r\n      this.state.messages.length * (theme.SIZES.BASE * 6.5) + 64; // total messages x message height\r\n    return (\r\n      <FlatList\r\n        ref={this.messagesScroll}\r\n        data={this.state.messages}\r\n        keyExtractor={item => `${item.id}`}\r\n        showsVerticalScrollIndicator={false}\r\n        getItemLayout={this.itemLayout}\r\n        contentContainerStyle={[styles.messagesWrapper]}\r\n        renderItem={({ item }) => this.renderMessage(item)}\r\n        onContentSizeChange={this.onContentSizeChange}\r\n      />\r\n    );\r\n  };\r\n\r\n  handleMessageChange = (type, text) => {\r\n    this.setState({ message: text });\r\n  };\r\n\r\n  handleMessage = () => {\r\n    const { messages, message } = this.state;\r\n    const date = new Date();\r\n\r\n    messages.push({\r\n      id: messages.length + 1,\r\n      message: message,\r\n      time: date.toLocaleString(\"en-US\", { hour: \"2-digit\", minute: \"numeric\" })\r\n    });\r\n\r\n    this.setState({ messages, message: \"\" });\r\n    this.handleScroll();\r\n  };\r\n\r\n  messageForm = () => {\r\n    const { navigation } = this.props;\r\n\r\n    return (\r\n      <View style={styles.messageFormContainer}>\r\n        <Block>\r\n          <Input\r\n            borderless\r\n            color=\"#9fa5aa\"\r\n            multiline\r\n            blurOnSubmit\r\n            style={styles.input}\r\n            placeholder=\"Message\"\r\n            autoCapitalize=\"none\"\r\n            returnKeyType=\"send\"\r\n            textContentType=\"none\"\r\n            placeholderTextColor=\"#9fa5aa\"\r\n            defaultValue={this.state.message}\r\n            onSubmitEditing={this.handleMessage}\r\n            onChangeText={text => this.handleMessageChange(\"message\", text)}\r\n            iconContent={\r\n              <Icon\r\n              size={14}\r\n              name=\"camera\"\r\n              family=\"font-awesome\"\r\n              color={argonTheme.COLORS.ICON}\r\n              style={{ marginRight: 12, marginTop: 5 }}\r\n            />\r\n            }\r\n          />\r\n        </Block>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Block flex space=\"between\" style={styles.container}>\r\n        <KeyboardAvoidingView\r\n          enabled\r\n          behavior=\"padding\"\r\n          style={{ flex: 1 }}\r\n          keyboardVerticalOffset={theme.SIZES.BASE * 3.2}\r\n        >\r\n          {this.renderMessages()}\r\n          {this.messageForm()}\r\n        </KeyboardAvoidingView>\r\n      </Block>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {},\r\n  messageFormContainer: {\r\n    height: 96,\r\n    paddingHorizontal: 16,\r\n    paddingTop: 16,\r\n    paddingBottom: 32\r\n  },\r\n  input: {\r\n    // width: width * 0.93,\r\n    height: theme.SIZES.BASE * 3,\r\n    backgroundColor: theme.COLORS.WHITE,\r\n    shadowColor: theme.COLORS.BLACK,\r\n    shadowOffset: { width: 0, height: 0.7 },\r\n    shadowRadius: 3,\r\n    shadowOpacity: 0.07,\r\n    elevation: 2,\r\n  },\r\n  iconButton: {\r\n    width: 40,\r\n    height: 40,\r\n    backgroundColor: \"transparent\"\r\n  },\r\n  messagesWrapper: {\r\n    flexGrow: 1,\r\n    top: 0,\r\n    paddingLeft: 8,\r\n    paddingRight: 8,\r\n    paddingVertical: 16,\r\n    paddingBottom: 56\r\n  },\r\n  messageCardWrapper: {\r\n    maxWidth: \"85%\",\r\n    marginLeft: 8,\r\n    marginBottom: 32\r\n  },\r\n  messageCard: {\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 16,\r\n    borderRadius: 6,\r\n    backgroundColor: theme.COLORS.WHITE\r\n  },\r\n  messageCardPersonal: {\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 16,\r\n    borderRadius: 6,\r\n    marginRight: 8,\r\n    backgroundColor: argonTheme.COLORS.PRIMARY\r\n  },\r\n  shadow: {\r\n    shadowColor: \"rgba(0, 0, 0, 0.1)\",\r\n    shadowOffset: { width: 0, height: 1 },\r\n    shadowRadius: 3,\r\n    shadowOpacity: 1\r\n  },\r\n  time: {\r\n    fontFamily: 'open-sans-regular',\r\n    fontSize: 11,\r\n    opacity: 0.5,\r\n    marginTop: 8\r\n  },\r\n  avatar: {\r\n    height: 40,\r\n    width: 40,\r\n    borderRadius: 20,\r\n    marginBottom: theme.SIZES.BASE\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}